(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2285)}])},1760:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var r=t(5893),n=t(7294),l=t(9493),i=t(8059),a=t(109),o=t(381),d=t.n(o),c=t(5675),h=t.n(c),x=function(e){let{file:s}=e,t=(0,a.ad)(l.l),{showToastMsg:o,setShowToastMsg:c}=(0,n.useContext)(i._),x="/"+s.type+".png",u=async e=>{await (0,a.oe)((0,a.JU)(t,"files",e.id.toString())).then(e=>{c("File Deleted!!!")})};return d()("Nov 23 2020","MMM DD YYYY"),(0,r.jsxs)("div",{className:"grid grid-cols-1   md:grid-cols-2 justify-between   cursor-pointer hover:bg-gray-100   p-3 rounded-md transition-all duration-75",children:[(0,r.jsxs)("div",{className:"flex gap-2 items-center ",children:[(0,r.jsx)(h(),{src:x,alt:"file-icon",width:26,height:20}),(0,r.jsx)("h2",{className:"text-[15px] truncate",onClick:()=>window.open(s.imageUrl),children:s.name})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 place-content-start gap-1",children:[(0,r.jsx)("h2",{className:"text-[15px]",children:d()(s.modifiedAt).format("MMMM DD, YYYY")}),(0,r.jsxs)("h2",{className:"text-[15px]",children:[(s.size/1048576).toFixed(2)+" MB",(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:()=>u(s),fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 float-right text-red-500   hover:scale-110 transition-all",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})]})]})]})},u=function(e){let{fileList:s}=e;return(0,r.jsxs)("div",{className:"bg-white mt-5 p-5   rounded-lg",children:[(0,r.jsx)("h2",{className:"text-[18px] font-bold",children:"Recent Files"}),(0,r.jsxs)("div",{className:"grid grid-cols-1   md:grid-cols-2    text-[13px]    font-semibold   border-b-[1px]   pb-2 mt-3   border-gray-300   text-gray-400",children:[(0,r.jsx)("h2",{children:"Name"}),(0,r.jsxs)("div",{className:"grid grid-cols-2",children:[(0,r.jsx)("h2",{children:"Modified"}),(0,r.jsx)("h2",{children:"Size"}),(0,r.jsx)("h2",{})]})]}),s&&s.map((e,s)=>(0,r.jsx)("div",{children:(0,r.jsx)(x,{file:e},s)},s))]})}},6168:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var r=t(5893),n=t(7294),l=t(9493),i=t(8059),a=t(109),o=t(5675),d=t.n(o),c=e=>{let{folder:s}=e;(0,a.ad)(l.l);let{showToastMsg:t,setShowToastMsg:o}=(0,n.useContext)(i._);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-full flex flex-col justify-center items-center h-32 border-[1px] rounded-lg p-5 hover:scale-105 hover:shadow-md cursor-pointer transition-all duration-75",children:[(0,r.jsx)(d(),{src:"/folder.png",alt:"folder",width:40,height:40}),(0,r.jsx)("h2",{className:"line-clamp-2 text-xs font-semibold text-center",children:s.name})]})})},h=t(1163),x=function(e){let{folder:s}=e;return(0,r.jsxs)("div",{className:" flex gap-3   hover:bg-gray-100   p-2 rounded-md cursor-pointer",children:[(0,r.jsx)(d(),{src:"/folder.png",alt:"folder",width:20,height:20}),(0,r.jsx)("h1",{children:s.name})]})},u=e=>{let{folderList:s,isBig:t=!0}=e,[l,i]=(0,n.useState)(),a=(0,h.useRouter)(),o=(e,s)=>{i(e),a.push({pathname:"/folder/"+s.id,query:{name:s.name,id:s.id}})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"p-5 mt-5    bg-white rounded-lg",children:[t?(0,r.jsxs)("h2",{className:"text-lg    font-bold    items-center",children:["Recent Folders",(0,r.jsx)("span",{className:"float-right   text-blue-400 font-semibold   text-sm cursor-pointer ",children:"View All"})]}):null,t?(0,r.jsx)("div",{className:"grid grid-cols-2   md:grid-cols-3   lg:grid-cols-4   xl:grid-cols-5 mt-3   gap-3",children:s.map((e,s)=>(0,r.jsx)("div",{onClick:()=>o(s,e),children:(0,r.jsx)(c,{folder:e})},s))}):(0,r.jsx)("div",{className:"    ",children:s.map((e,s)=>(0,r.jsx)("div",{onClick:()=>o(s,e),children:(0,r.jsx)(x,{folder:e})},s))})]})})}},3077:function(e,s,t){"use strict";var r=t(5893);t(7294),s.Z=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex gap-3 bg-white   p-2 rounded-lg items-center w-full",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-gray-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),(0,r.jsx)("input",{type:"text",placeholder:"Search",onKeyDown:e=>"Enter"==e.key&&console.log(e.target.value),className:"bg-transparent   outline-none w-full text-[14px   text-black"})]})})},2285:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(5893),n=t(3299),l=t(1163),i=t(7294),a=t(3077),o=t(6168),d=t(1760),c=t(109),h=t(9493),x=t(8050),u=t(8059);function m(){let{data:e}=(0,n.useSession)(),s=(0,l.useRouter)(),[t,m]=(0,i.useState)([]),[g,f]=(0,i.useState)([]),p=(0,c.ad)(h.l),{parentFolderId:j,setParentFolderId:w}=(0,i.useContext)(x.$),{showToastMsg:v,setShowToastMsg:N}=(0,i.useContext)(u._);(0,i.useEffect)(()=>{console.log("User Session"),e?(m([]),b(),k(),console.log("User Session",e.user)):s.push("/login"),w(0)},[e,v]);let b=async()=>{m([]);let s=(0,c.IO)((0,c.hJ)(p,"Folders"),(0,c.ar)("parentFolderId","==",0),(0,c.ar)("createBy","==",e.user.email));(await (0,c.PL)(s)).forEach(e=>{console.log(e.id," => ",e.data()),m(s=>[...s,e.data()])})},k=async()=>{f([]);let s=(0,c.IO)((0,c.hJ)(p,"files"),(0,c.ar)("parentFolderId","==",0),(0,c.ar)("createdBy","==",e.user.email));(await (0,c.PL)(s)).forEach(e=>{f(s=>[...s,e.data()])})};return(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(o.Z,{folderList:t}),(0,r.jsx)(d.Z,{fileList:g})]})}}},function(e){e.O(0,[885,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);